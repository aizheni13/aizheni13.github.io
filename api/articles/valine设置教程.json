{"title":"valineè®¾ç½®æ•™ç¨‹","uid":"eb162e98551a1ccef9c68f17a7deec3f","slug":"valineè®¾ç½®æ•™ç¨‹","date":"2025-04-01T17:15:48.000Z","updated":"2025-04-05T18:22:38.412Z","comments":true,"path":"api/articles/valineè®¾ç½®æ•™ç¨‹.json","keywords":null,"cover":"https://img.090227.xyz/file/ae62475a131f3734a201c.png","content":"<p>ä»¥ä¸‹æ˜¯Valineè¯„è®ºç³»ç»Ÿçš„è¯¦ç»†é…ç½®æ•™ç¨‹ï¼Œæ•´åˆå¤šå¹³å°éƒ¨ç½²æ–¹æ¡ˆåŠå®ç”¨åŠŸèƒ½è®¾ç½®æŒ‡å—ï¼š</p>\n<hr>\n<h3 id=\"ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤\"><a href=\"#ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤\" class=\"headerlink\" title=\"ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤\"></a>ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤</h3><ol>\n<li><p><strong>æ³¨å†ŒLeanCloudå¹¶åˆ›å»ºåº”ç”¨</strong>  </p>\n<ul>\n<li>è®¿é—®<a href=\"https://console.leancloud.app/\">LeanCloudå›½é™…ç‰ˆ</a>ï¼Œæ³¨å†Œè´¦å·å¹¶å®Œæˆå®åè®¤è¯ï¼ˆå›½å†…ç‰ˆéœ€å¤‡æ¡ˆåŸŸåï¼‰ã€‚</li>\n<li>åˆ›å»ºåº”ç”¨åï¼Œè¿›å…¥<strong>è®¾ç½® &gt; åº”ç”¨å‡­è¯</strong>ï¼Œè·å–<code>App ID</code>å’Œ<code>App Key</code>ï¼Œè¿™æ˜¯Valineè¿è¡Œçš„æ ¸å¿ƒå‚æ•°ã€‚</li>\n</ul>\n</li>\n<li><p><strong>å‰ç«¯é›†æˆ</strong>  </p>\n<ul>\n<li><strong>Hexoä¸»é¢˜ï¼ˆå¦‚Butterfly&#x2F;Nextï¼‰</strong>ï¼šåœ¨ä¸»é¢˜çš„<code>_config.yml</code>ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">valine:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">appId:</span> <span class=\"string\">&quot;your-app-id&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">appKey:</span> <span class=\"string\">&quot;your-app-key&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">placeholder:</span> <span class=\"string\">&quot;æ¬¢è¿è¯„è®º~&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">avatar:</span> <span class=\"string\">&quot;monsterid&quot;</span>  <span class=\"comment\"># å¤´åƒé£æ ¼</span></span><br><span class=\"line\">  <span class=\"attr\">visitor:</span> <span class=\"literal\">true</span>        <span class=\"comment\"># å¼€å¯è®¿é—®é‡ç»Ÿè®¡</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>Hugo&#x2F;VuePress</strong>ï¼šæ‰‹åŠ¨æ’å…¥CDNä»£ç åˆ°æ¨¡æ¿æ–‡ä»¶ï¼š<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;vcomments&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/valine/dist/Valine.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Valine</span>(&#123; <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#vcomments&#x27;</span>, <span class=\"attr\">appId</span>: <span class=\"string\">&#x27;your-app-id&#x27;</span>, <span class=\"attr\">appKey</span>: <span class=\"string\">&#x27;your-app-key&#x27;</span> &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"äºŒã€é«˜çº§åŠŸèƒ½é…ç½®\"><a href=\"#äºŒã€é«˜çº§åŠŸèƒ½é…ç½®\" class=\"headerlink\" title=\"äºŒã€é«˜çº§åŠŸèƒ½é…ç½®\"></a>äºŒã€é«˜çº§åŠŸèƒ½é…ç½®</h3><ol>\n<li><p><strong>é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ</strong>  </p>\n<ul>\n<li>ä½¿ç”¨<strong>Valine-Admin</strong>å¢å¼ºåŠŸèƒ½ï¼ˆéœ€éƒ¨ç½²è‡³LeanCloudäº‘å¼•æ“ï¼‰ï¼š<ul>\n<li>é…ç½®ç¯å¢ƒå˜é‡ï¼š<code>SMTP_SERVICE</code>ï¼ˆå¦‚Gmailï¼‰ã€<code>SMTP_USER</code>ã€<code>SMTP_PASS</code>ã€‚</li>\n<li>è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆCronè¡¨è¾¾å¼ï¼‰ï¼šè‡ªåŠ¨å”¤é†’å’Œè¡¥å‘é‚®ä»¶ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>ååƒåœ¾è¯„è®º</strong>  </p>\n<ul>\n<li>æ³¨å†Œ<a href=\"https://akismet.com/\">Akismet</a>è·å–API Keyï¼Œå¡«å…¥Valineåå°ã€‚</li>\n<li>é™åˆ¶è¯„è®ºé¢‘ç‡ï¼šæ¯IP 10åˆ†é’Ÿå†…æœ€å¤š5æ¡ã€‚</li>\n</ul>\n</li>\n<li><p><strong>è‡ªå®šä¹‰è¡¨æƒ…ä¸æ ·å¼</strong>  </p>\n<ul>\n<li><strong>è¡¨æƒ…åŒ…</strong>ï¼šé€šè¿‡<code>emojiCDN</code>å’Œ<code>emojiMaps</code>å‚æ•°å¼•å…¥ç¬¬ä¸‰æ–¹è¡¨æƒ…åº“ï¼Œå¦‚<a href=\"https://github.com/GamerNoTitle/Valine-Magic\">Valine-Magic</a>çš„CDNé“¾æ¥ã€‚</li>\n<li><strong>CSSç¾åŒ–</strong>ï¼šè¦†ç›–é»˜è®¤æ ·å¼ï¼Œä¾‹å¦‚ä¿®æ”¹æŒ‰é’®é¢œè‰²å’Œè¯„è®ºæ¡†èƒŒæ™¯ï¼š<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#vcomment</span> <span class=\"selector-class\">.vat</span> &#123; <span class=\"attribute\">color</span>: <span class=\"number\">#333</span>; <span class=\"attribute\">border-color</span>: <span class=\"number\">#333</span>; &#125;</span><br><span class=\"line\"><span class=\"selector-id\">#vcomment</span> <span class=\"selector-tag\">button</span> &#123; <span class=\"attribute\">background</span>: <span class=\"number\">#000</span>; <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>; &#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"ä¸‰ã€éƒ¨ç½²ä¸ç»´æŠ¤\"><a href=\"#ä¸‰ã€éƒ¨ç½²ä¸ç»´æŠ¤\" class=\"headerlink\" title=\"ä¸‰ã€éƒ¨ç½²ä¸ç»´æŠ¤\"></a>ä¸‰ã€éƒ¨ç½²ä¸ç»´æŠ¤</h3><ol>\n<li><p><strong>éƒ¨ç½²æ–¹å¼é€‰æ‹©</strong>  </p>\n<ul>\n<li><strong>LeanCloudäº‘å¼•æ“</strong>ï¼ˆæ¨èæ–°æ‰‹ï¼‰ï¼šä¸€é”®éƒ¨ç½²Valine-Adminï¼Œæ”¯æŒé‚®ä»¶é€šçŸ¥å’Œè¯„è®ºç®¡ç†ã€‚</li>\n<li><strong>Vercel&#x2F;MongoDB</strong>ï¼šé€‚åˆéœ€è¦ç‹¬ç«‹åç«¯æœåŠ¡çš„ç”¨æˆ·ï¼Œéœ€é…ç½®ç¯å¢ƒå˜é‡<code>MONGODB_URI</code>ã€‚</li>\n<li><strong>Dockerç§æœ‰éƒ¨ç½²</strong>ï¼šä½¿ç”¨å®˜æ–¹é•œåƒ<code>imaegoo/twikoo</code>ï¼Œé€šè¿‡Nginxåä»£å®ç°HTTPSã€‚</li>\n</ul>\n</li>\n<li><p><strong>æ•°æ®å¤‡ä»½ä¸è¿ç§»</strong>  </p>\n<ul>\n<li><strong>å¯¼å‡ºæ•°æ®</strong>ï¼šé€šè¿‡LeanCloudæ§åˆ¶å°çš„<strong>æ•°æ®å­˜å‚¨ &gt; å¯¼å‡º</strong>åŠŸèƒ½å¤‡ä»½è¯„è®ºã€‚</li>\n<li><strong>è¿ç§»è‡³Twikoo</strong>ï¼šä½¿ç”¨<a href=\"https://github.com/imaegoo/twikoo-import-tools\">è¿ç§»è„šæœ¬</a>å°†Valineæ•°æ®å¯¼å…¥Twikooã€‚</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"å››ã€å¸¸è§é—®é¢˜è§£å†³\"><a href=\"#å››ã€å¸¸è§é—®é¢˜è§£å†³\" class=\"headerlink\" title=\"å››ã€å¸¸è§é—®é¢˜è§£å†³\"></a>å››ã€å¸¸è§é—®é¢˜è§£å†³</h3><table>\n<thead>\n<tr>\n<th>é—®é¢˜ç°è±¡</th>\n<th>è§£å†³æ–¹æ¡ˆ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>è¯„è®ºæ¡†åŠ è½½å¤±è´¥</td>\n<td>æ£€æŸ¥CDNé“¾æ¥æ˜¯å¦ä¸åç«¯å…¼å®¹ï¼Œæˆ–æ›´æ¢ä¸º<code>twikoo.all.min.js</code></td>\n</tr>\n<tr>\n<td>é‚®ä»¶å‘é€å¤±è´¥</td>\n<td>ç¡®è®¤SMTPå¯†ç ä¸ºåº”ç”¨ä¸“ç”¨å¯†ç ï¼ˆéé‚®ç®±å¯†ç ï¼‰ï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®</td>\n</tr>\n<tr>\n<td>æ•°æ®åº“è¿æ¥è¶…æ—¶</td>\n<td>æ£€æŸ¥MongoDBç™½åå•æ˜¯å¦åŒ…å«<code>0.0.0.0/0</code>ï¼Œæˆ–æ›´æ¢ä¸ºè…¾è®¯äº‘ç­‰å›½å†…èŠ‚ç‚¹</td>\n</tr>\n<tr>\n<td>è·¨åŸŸé”™è¯¯ï¼ˆCORSï¼‰</td>\n<td>åœ¨Nginxé…ç½®ä¸­æ·»åŠ <code>Access-Control-Allow-Origin</code>å¤´éƒ¨</td>\n</tr>\n</tbody></table>\n<hr>\n<h3 id=\"äº”ã€æ‰©å±•èµ„æº\"><a href=\"#äº”ã€æ‰©å±•èµ„æº\" class=\"headerlink\" title=\"äº”ã€æ‰©å±•èµ„æº\"></a>äº”ã€æ‰©å±•èµ„æº</h3><ul>\n<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href=\"https://valine.js.org/configuration.html\">Valineé…ç½®æŒ‡å—</a> </li>\n<li><strong>ä¸»é¢˜é€‚é…</strong>ï¼šButterfly&#x2F;Volantisç­‰ä¸»é¢˜çš„è¯¦ç»†é…ç½®æ¡ˆä¾‹ã€‚</li>\n<li><strong>è¿›é˜¶æ•™ç¨‹</strong>ï¼šå¦‚ä½•é€šè¿‡Vercel+Cloudflareå®ç°å…¨çƒåŠ é€Ÿã€‚</li>\n</ul>\n<p>å¦‚éœ€æ›´è¯¦ç»†çš„æ­¥éª¤ï¼ˆå¦‚å®šæ—¶ä»»åŠ¡é…ç½®æˆ–è‡ªå®šä¹‰æ¨¡æ¿ï¼‰ï¼Œå¯å‚è€ƒ<a href=\"https://github.com/DesertsP/Valine-Admin\">Valine-Adminå®˜æ–¹æ•™ç¨‹</a> ã€‚</p>\n","text":"ä»¥ä¸‹æ˜¯Valineè¯„è®ºç³»ç»Ÿçš„è¯¦ç»†é…ç½®æ•™ç¨‹ï¼Œæ•´åˆå¤šå¹³å°éƒ¨ç½²æ–¹æ¡ˆåŠå®ç”¨åŠŸèƒ½è®¾ç½®æŒ‡å—ï¼š ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤ æ³¨å†ŒLeanCloudå¹¶åˆ›å»ºåº”ç”¨ è®¿é—®LeanCloudå›½é™…...","permalink":"/post/valineè®¾ç½®æ•™ç¨‹","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">ä¸€ã€åŸºç¡€é…ç½®æ­¥éª¤</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">äºŒã€é«˜çº§åŠŸèƒ½é…ç½®</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2%E4%B8%8E%E7%BB%B4%E6%8A%A4\"><span class=\"toc-text\">ä¸‰ã€éƒ¨ç½²ä¸ç»´æŠ¤</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3\"><span class=\"toc-text\">å››ã€å¸¸è§é—®é¢˜è§£å†³</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81%E6%89%A9%E5%B1%95%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">äº”ã€æ‰©å±•èµ„æº</span></a></li></ol>","author":{"name":"Gund  Blog","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/77204225?s=400&u=bc9a441bfcbd0bc3e1c332c24af659cebbd563cc&v=4","link":"/","description":"ä¸“æ³¨äºæŠ€æœ¯åˆ†äº«ä¸ä¸ªäººæˆé•¿çš„åšå®¢ï¼Œè®°å½•æˆ‘çš„ç¼–ç¨‹å­¦ä¹ ã€å¼€å‘ç»éªŒä»¥åŠæŠ€æœ¯æ¢ç´¢çš„ç‚¹æ»´ï¼ŒåŒæ—¶ä¹Ÿåˆ†äº«è§£å†³é—®é¢˜çš„å¿ƒå¾—ä¸çµæ„Ÿï¼Œè‡´åŠ›äºç”¨æ–‡å­—å’Œä»£ç ä¼ é€’çŸ¥è¯†ä¸ä»·å€¼ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"facebook":{"icon":"iconfont icon-facebook","link":"https://facebook.com"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"twikooè®¾ç½®æ•™ç¨‹","uid":"490a2dbf50f8fbf7f7cba548df2b3bd5","slug":"twikooè®¾ç½®æ•™ç¨‹","date":"2025-04-01T17:16:48.000Z","updated":"2025-04-05T18:21:51.252Z","comments":true,"path":"api/articles/twikooè®¾ç½®æ•™ç¨‹.json","keywords":null,"cover":"https://img.090227.xyz/file/ae62475a131f3734a201c.png","text":"ä»¥ä¸‹ä¸ºTwikooè¯„è®ºç³»ç»Ÿå®Œæ•´é…ç½®æ•™ç¨‹ï¼Œæ•´åˆå¤šå¹³å°éƒ¨ç½²æ–¹æ¡ˆåŠå®ç”¨åŠŸèƒ½è®¾ç½®æŒ‡å—ï¼š ä¸€ã€éƒ¨ç½²æ–¹å¼é€‰æ‹©åŠæµç¨‹1. Vercel + MongoDBéƒ¨ç½²ï¼ˆæ¨èæ–°æ‰‹ï¼‰æ­¥éª¤...","permalink":"/post/twikooè®¾ç½®æ•™ç¨‹","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[],"tags":[],"author":{"name":"Gund  Blog","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/77204225?s=400&u=bc9a441bfcbd0bc3e1c332c24af659cebbd563cc&v=4","link":"/","description":"ä¸“æ³¨äºæŠ€æœ¯åˆ†äº«ä¸ä¸ªäººæˆé•¿çš„åšå®¢ï¼Œè®°å½•æˆ‘çš„ç¼–ç¨‹å­¦ä¹ ã€å¼€å‘ç»éªŒä»¥åŠæŠ€æœ¯æ¢ç´¢çš„ç‚¹æ»´ï¼ŒåŒæ—¶ä¹Ÿåˆ†äº«è§£å†³é—®é¢˜çš„å¿ƒå¾—ä¸çµæ„Ÿï¼Œè‡´åŠ›äºç”¨æ–‡å­—å’Œä»£ç ä¼ é€’çŸ¥è¯†ä¸ä»·å€¼ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"facebook":{"icon":"iconfont icon-facebook","link":"https://facebook.com"}}}}},"next_post":{"title":"æˆ‘çš„åšå®¢æ­£å¼ä¸Šçº¿å•¦ï¼","uid":"ff7918f41d6dda414046df0208e1713a","slug":"æˆ‘çš„åšå®¢æ­£å¼ä¸Šçº¿å•¦ï¼","date":"2025-04-01T17:11:43.000Z","updated":"2025-04-05T18:21:34.421Z","comments":true,"path":"api/articles/æˆ‘çš„åšå®¢æ­£å¼ä¸Šçº¿å•¦ï¼.json","keywords":null,"cover":"https://img.090227.xyz/file/ae62475a131f3734a201c.png","text":"ğŸ‰ æˆ‘çš„åšå®¢æ­£å¼ä¸Šçº¿å•¦ï¼ğŸ‰ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç­¹å¤‡å’ŒåŠªåŠ›ï¼Œæˆ‘çš„ä¸ªäººåšå®¢ç»ˆäºæ­£å¼ä¸Šçº¿äº†ï¼æ›´ä»¤äººæ¿€åŠ¨çš„æ˜¯ï¼Œæˆ‘çš„ä¸“å±åŸŸåä¹ŸåŒæ­¥å¯ç”¨äº†ï¼ä»ä»Šå¤©å¼€å§‹ï¼Œè¿™é‡Œå°†æˆä¸ºæˆ‘åˆ†äº«çŸ¥è¯†ã€è®°å½•...","permalink":"/post/æˆ‘çš„åšå®¢æ­£å¼ä¸Šçº¿å•¦ï¼","photos":[],"count_time":{"symbolsCount":559,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Gund  Blog","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/77204225?s=400&u=bc9a441bfcbd0bc3e1c332c24af659cebbd563cc&v=4","link":"/","description":"ä¸“æ³¨äºæŠ€æœ¯åˆ†äº«ä¸ä¸ªäººæˆé•¿çš„åšå®¢ï¼Œè®°å½•æˆ‘çš„ç¼–ç¨‹å­¦ä¹ ã€å¼€å‘ç»éªŒä»¥åŠæŠ€æœ¯æ¢ç´¢çš„ç‚¹æ»´ï¼ŒåŒæ—¶ä¹Ÿåˆ†äº«è§£å†³é—®é¢˜çš„å¿ƒå¾—ä¸çµæ„Ÿï¼Œè‡´åŠ›äºç”¨æ–‡å­—å’Œä»£ç ä¼ é€’çŸ¥è¯†ä¸ä»·å€¼ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"facebook":{"icon":"iconfont icon-facebook","link":"https://facebook.com"}}}},"feature":true}}